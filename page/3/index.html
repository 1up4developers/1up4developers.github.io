
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>1up4developers</title>
  <meta name="author" content="1up4developers">

  
  <meta name="description" content="&ldquo;JavaScript is LISP in C&rsquo;s clothing&rdquo; &ndash; Douglas Crockford O que é programação funcional Programação funcional é, assim como a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://1up4dev.org/page/3/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/1up4developers" rel="alternate" title="1up4developers" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6134014-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <img src="/images/logo-1up-small.png" style="float: left; margin-top: 11px; margin-right: 30px;" alt="1up4developers logo">
  <h1><a href="/">1up4developers</a></h1>
  
    <h2>Nadando contra o Waterfall. tail -f /mind/realworld >> /blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/1up4developers" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:1up4dev.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/02/programacao-funcional-com-javascript/">Programação Funcional Com JavaScript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-21T12:58:02-03:00" pubdate data-updated="true">Feb 21<span>st</span>, 2013</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/pbalduino/'>Plínio Balduino</a></span></span>


        
         | <a href="/2013/02/programacao-funcional-com-javascript/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2013/02/programacao-funcional-com-javascript/" data-text="Programação funcional com JavaScript" data-via="1up4dev" data-counturl="http://1up4dev.org/2013/02/programacao-funcional-com-javascript/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2013/02/programacao-funcional-com-javascript/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2013/02/programacao-funcional-com-javascript/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><blockquote><p>&ldquo;JavaScript is LISP in C&rsquo;s clothing&rdquo; &ndash; Douglas Crockford</p></blockquote>

<h2>O que é programação funcional</h2>

<p>Programação funcional é, assim como a orientação a objetos, uma forma de se pensar em como resolver problemas.</p>

<p>A base do que hoje é a programação funcional foi criada paralelamente por Alan Turing e Alonzo Church na década de 1930, antes mesmo da existência dos computadores como o conhecemos.</p>

<p>Infelizmente, a programação funcional passou muito tempo restrita aos meios acadêmicos, o que faz com que o iniciante no assunto fique assustado com toda aquela notação matemática e com os termos incompreensíveis.</p>

<pre><code>ω := λx.x x
Ω := ω ω 
Y := λg.(λx.g (x x)) (λx.g (x x))
</code></pre>

<p>Felizmente, o conceito de programação funcional é muito simples. Assim como na orientação a objetos a menor parte de um sistema é um objeto, você pode atribuir objetos a variáveis, pode passá-los por parâmetro e ter métodos retornando objetos, na programação funcional a menor parte do seu sistema é uma função.</p>

<p>Isso implica que você pode atribuir funções a variáveis, pode passá-las por parâmetro e mesmo fazer com que uma função retorne outra função. Alguma linguagens implementam também imutabilidade, que é quando todo valor é tratado como se fosse uma constante, e outros conceitos periféricos, o que não é o caso do JavaScript. Todos os demais conceitos de programação funcional derivam do fato de você lidar com funções como se fossem um valor como qualquer outro.</p>

<h2>High order functions</h2>

<p>Uma high order function (não achei uma tradução decente para o Português), apesar do nome intimidador, é simplesmente uma função que recebe outra função como parâmetro ou devolve uma função como resultado. Quando você usa callbacks no JavaScript e no jQuery, você está fazendo uso de high order functions.</p>

<pre><code>$("button.mallandro")
  .click(function() {
    alert("Ié ié!");
  });
</code></pre>

<p>O método click é uma high order function, e a função anônima que faz <em>Ié ié!</em> é um callback.</p>

<p>Mais para frente vou mostrar mais formas de usar high order functions.</p>

<h2>Escopo</h2>

<p>Apesar do conceito de escopo não ser exclusivo da programação funcional, é importantíssimo que você entenda como funciona o escopo no JavaScript para que não fique confuso ao ver <em>closures</em> e <em>currying</em>.</p>

<p>Como na maioria das linguagens comerciais, uma variável declarada em um escopo maior é visível em um escopo menor, enquanto o contrário não é verdadeiro.</p>

<p>Na prática significa que uma variável global é visível por todo mundo:</p>

<pre><code>var x = 1;

function foo() {
  console.log(x);
}

foo();

// Saída:   1
</code></pre>

<p>Significa também que uma variável local só é vista dentro do escopo em que foi criada, mesmo que tenha o mesmo nome de uma variável global:</p>

<pre><code>var x = 1;

function bar() {
  var x = 99;
  var y = 42

  console.log(x, y);
}

bar();
// 99 42

console.log(x);
// 1

console.log(y);
// ReferenceError: y is not defined
</code></pre>

<p>Quando uma função altera o valor de uma variável global, isso afeta toda a aplicação. Por isso o uso de variáveis globais não é considerado uma boa prática. Porém, uma variável global passada por parâmetro para uma função não tem o seu valor alterado:</p>

<pre><code>var x = 1;
var y = 11;

function meh(x) {
  console.log("Dentro: ", x, y);
  x++;
  y++;
  console.log("Dentro: ", x, y);
}

meh(x);
// Dentro:  1 11
// Dentro:  2 12

console.log("Fora: ", x, y);
// Fora:  1 12
</code></pre>

<h2>Closures</h2>

<p>Outra característica do escopo é que uma função guarda as variáveis do contexto em que foi criada. Isso significa que uma função pode continuar acessando variáveis que só existiam no momento em que ela foi criada.</p>

<pre><code>function counter() {
  var x = 0;

  return function() {
    return ++x;
  }
}

var count = counter();

console.log(count());
// 1
console.log(count());
// 2
console.log(count());
// 3
console.log(count());
// 4
console.log(x);
// ReferenceError: x is not defined
</code></pre>

<p>O que acontece aqui é que count recebe uma função que incrementa o valor da variável x, só que essa variável existe apenas dentro da função counter. O que aconteceu aqui é que a função armazenada em count <em>se lembra</em> da variável que foi criada em outra função, mas que não está mais sendo executada.</p>

<p>Ao tentarmos exibir o valor da variável x, recebemos um erro, pois ela não existe no escopo global.</p>

<h2>Currying</h2>

<p>Juntando tudo o que vimos até aqui sobre high order functions, escopo e closures, chegamos ao <em>currying</em>. Currying é uma operação em que você transforma uma função que receberia mais de um parâmetro em uma série de chamadas de funções com apenas um parâmetro cada.</p>

<p>Um dos usos dessa técnica é evitar, de forma elegante, que o mesmo parâmetro seja passado para a mesma função.</p>

<p>Vamos pegar um exemplo escrito de forma imperativa. Temos uma função hey, que recebe os parâmetros texto e nome e, a partir disso, imprime uma saudação.</p>

<pre><code>function hey(texto, nome) {
  console.log(texto + ", " + nome);
}

hey("Bom dia", "João");
// Bom dia, João

hey("Bom dia", "José");
// Bom dia, José

hey("Bom dia", "Nicolau");
// Bom dia, Nicolau
</code></pre>

<p>Você pode dizer que poderíamos guardar &ldquo;Bom dia&rdquo; em uma variável. Concordo, mas isso não mudaria nada dentro do que estamos apresentando.</p>

<p>Reescrevendo a mesma função usando currying, teremos o código abaixo:</p>

<pre><code>function hey(texto) {
  return function(nome) {
    console.log(texto + ", " + nome);
  }
}

var bomDia = hey("Bom dia");

bomDia("João");
// Bom dia, João

bomDia("José");
// Bom dia, José

bomDia("Nicolau");
// Bom dia, Nicolau
</code></pre>

<p>Programação funcional é muito mais do que os conceitos que apresentei aqui, mas como um primeiro contato já dá para fazer muita coisa bacana.</p>

<p>Recomendo que você estude e pesquise a respeito. Mesmo que você não use uma linguagem funcional no seu dia-a-dia, o fato de conhecer um novo modo de pensar acaba alterando a forma como você resolve problemas, fazendo com que você tenha idéias melhores e mais elegantes.</p>

<p><strong>Update em 26/02:</strong></p>

<p>Este artigo foi publicado também no iMasters, no endereço <a href="http://imasters.com.br/front-end/javascript/programacao-funcional-com-javascript/">http://imasters.com.br/front-end/javascript/programacao-funcional-com-javascript/</a>.</p>

<p><em>Esse texto é parte do livro <a href="http://www.casadocodigo.com.br/products/livro-javascript-jquery">Dominando JavaScript com jQuery</a>, publicado pela <a href="http://www.casadocodigo.com.br">Editora Casa do Código</a></em>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/01/http-monkey/">HTTP Monkey - Lançado!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-23T13:29:16-02:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2013</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2013/01/http-monkey/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2013/01/http-monkey/" data-text="HTTP Monkey - lançado!" data-via="1up4dev" data-counturl="http://1up4dev.org/2013/01/http-monkey/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2013/01/http-monkey/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2013/01/http-monkey/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>O <a href="https://github.com/rogerleite/http_monkey">HTTP Monkey</a> é um cliente http simples, com <strong>interface fluente</strong>, suporte a <strong>múltiplos <em>adapters</em></strong> (Net::HTTP, Curb, HTTPClient, EM-HTTP-Request) e <strong><em>middlewares </em></strong>no<em> estilo rack.</em></p>

<p>Pontos positivos:</p>

<ul>
<li><p><a href="http://rogerleite.github.com/http_monkey">Documentação</a>. Está um pouco desorganizado, mas tem. :D</p></li>
<li><p><a href="http://rogerleite.github.com/http_monkey/#light_and_powerful">Autenticações</a>. Suporta basic, digest e SSL.</p></li>
<li><p><a href="http://rogerleite.github.com/http_monkey/#more_power_to_the_people_for_god_sake">Middlewares</a> são simples classes Ruby. Por exemplo temos o <a href="https://github.com/rogerleite/http_monkey-cookie">middleware que dá suporte a cookies</a>.</p></li>
<li><p><a href="http://rogerleite.github.com/http_monkey/#flexibility">Callback</a> por Response code.</p></li>
<li><p>Helpers no headers response. Ex: resp.headers.content_type?; resp.headers.cache_control.max_age</p></li>
<li><p>Pouco código, fácil manutenção (mais fácil do povo contribuir também).</p></li>
</ul>


<p>Pontos negativos:</p>

<ul>
<li><p>Gem nova. Ainda não tem um case em produção.</p></li>
<li><p>Falta de middlewares para funcionalidades como Cache, OAuth … etc.</p></li>
<li><p>Não suporta adapter que permite requisições em paralelo.</p></li>
<li><p>Tem o <a href="https://github.com/lostisland/faraday">Faraday</a> como concorrente, que tem base em produção e bastantes <em>middlewares</em>.</p></li>
<li><p>A comunidade nacional e internacional ainda não conhece o Monkey (comecei agora a trabalhar nisso).</p></li>
</ul>


<p>Na página <a href="http://rogerleite.github.com/http_monkey/http_monkey_an_alternative_to_faraday.html">HTTP Monkey an alternative to Faraday</a>, comecei um trabalho de &ldquo;localizar&rdquo; o desenvolvedor que está acostumado com o Faraday em como trabalhar com o Monkey. Lembrando que a DSL do HTTP Monkey, foi feita pensando em substituir o uso do <a href="https://github.com/caelum/restfulie">Restfulie</a>, muita usada nos projetos da Abril Mídia.</p>

<p>Tem também <a href="http://www.slideshare.net/rogerleite14/http-monkey">uns slides</a> que apresentei na Abril em alguns tech talks.</p>

<p><strong> <a href="http://www.slideshare.net/rogerleite14/http-monkey">HTTP Monkey</a> </strong> from <strong><a href="http://www.slideshare.net/rogerleite14">Roger Leite</a></strong></p>

<p>Valeu e aceito numa boa sugestões e críticas referentes ao projeto, por favor comentem! :D</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/01/nos-idos-de-2012-uml-design-e-waterfall/">Nos Idos De 2012, UML, Design E Waterfall</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-04T13:51:14-02:00" pubdate data-updated="true">Jan 4<span>th</span>, 2013</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rramos/'>Rogério Ramos</a></span></span>


        
         | <a href="/2013/01/nos-idos-de-2012-uml-design-e-waterfall/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2013/01/nos-idos-de-2012-uml-design-e-waterfall/" data-text="Nos idos de 2012, UML, Design e Waterfall" data-via="1up4dev" data-counturl="http://1up4dev.org/2013/01/nos-idos-de-2012-uml-design-e-waterfall/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2013/01/nos-idos-de-2012-uml-design-e-waterfall/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2013/01/nos-idos-de-2012-uml-design-e-waterfall/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>Há alguns anos atrás não havia uma referencia forte e consistente sobre os processos de desenvolvimento de software que não fosse Waterfall. Embora movimentos ágeis, processos mais simples e eficazes venham sendo utilizados a muito mais tempo, eles não eram tão evidentes como agora.
Independente do processo ágil discutido <a href="http://scrum.org">Scrum</a>, <a href="http://www.lean.org">Lean</a>, <a href="http://xprogramming.com">XP</a> e etc, etc, etc&hellip; o movimento para remover as velhas e engessadas práticas de desenvolvimento de software cresce vertiginosamente e começa a movimentar grandes empresas, que ainda amarradas e processos internos pesadíssimos, entendem que algo precisa mudar para se conseguir maior flexibilidade e agilidade ao entregar novos serviços e funcionalidade a seus clientes, e obviamente, estar à frente da concorrência.</p>

<p>Em meio a corrida do novo ouro, me encontro em uma sala de treinamento, às vesperas de um novo ano, estudando, discutindo e demonstrando como analisar e modelar sistemas utilizando a mais famosa linguagem de modelagem: a <a href="http://pt.wikipedia.org/wiki/UML">UML</a>.
Nunca consegui traçar uma ligação saudável entre os modelos criados com UML e código funcionando em produção. A idéia principal da UML é a de comunicar aos envolvidos em um projeto o que se planeja implementar; quais os detalhes que norteiam o desenvolvimento de uma solução e que <a href="http://www.batebyte.pr.gov.br/modules/conteudo/conteudo.php?conteudo=1718">requisitos funcionais e não funcionais</a> devem ser implementados. O problema é que qualquer coisa diferente de código no desenvolvimento de sistemas, está fadada a diferentes interpretações, ao conhecimento e experiência de quem <a href="http://1up4dev.org/2008/11/arquiteto-cascateiro">produz</a> e consome tais artefatos.</p>

<p>A idéia de times multidisciplinares e autogerenciáveis trazida pelo movimento ágil distoa fortemente do <a href="http://en.wikipedia.org/wiki/Waterfall_model">modelo cascata</a>, que delinea claramente o papel do analista de negócios/requisitos, o arquiteto/designer da solução e os <del>pobres</del> desenvolvedores que terão de seguir à risca todas definições impostas pelos modelos produzidos. E se durante o ciclo ágil os problemas identificados são priorizados para serem endereçados no próximo ciclo, como o processo formal gerencia isso? Hum&hellip; daí vem minha maior crítica quanto ao uso de modelos no desenvolvimento de software. Já que se decidiu por engessar o processo, seguí-lo fielmente deveria ser o preço a ser pago para manter tanta parafernalha de artefatos sem valor. Identificado o problema, o fluxo deveria voltar lá no início e corrigir requisitos, modelos, código e testes; mas o mercado não permite tanta demora, as linhas de negócio precisam colocar seu produto na prateleira e o fluxo controladamente perfeito que outrora se desenhou, na vida real não funciona mais.</p>

<p>É inviável manter a &ldquo;documentação&rdquo; do sistema em face a uma concorrência e volatilidade de negócios tão vorazes, então eu me pergunto: O que aquelas pessoas estavam fazendo trancadas numa sala, consumindo o tempo a um alto <a href="http://www.stanford.edu/group/fms/fingate/staff/capitalequip/capital_software.html">custo</a> da sua empresa? Aprendendo a como não fazer? Pode ser. Constatando uma vez mais que embora no papel, no processo, tudo aquilo que a teoria diz é muito bonito e controlado mas não funciona no mundo real? Sim, pode ser também, mas o pior é que passados anos de experiências ruins, projetos fracassados e montanhas de dinheiro jogados no ralo, ainda terão coragem de propor um processo baseado em requisitos → modelagem → desenvolvimento → testes, faseados e interdependentes, ignorando o histórico de dores e prejuízos experimentado.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/11/rails-4-novidades/">Rails 4 - Novidades</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-29T11:38:49-02:00" pubdate data-updated="true">Nov 29<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2012/11/rails-4-novidades/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/11/rails-4-novidades/" data-text="Rails 4 - Novidades" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/11/rails-4-novidades/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/11/rails-4-novidades/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/11/rails-4-novidades/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>O Rails 4 já está em desenvolvimento <del>faz um tempo</del>, na verdade um bom tempo, desde 20/Dez/2011, olha <a href="https://github.com/rails/rails/commit/632fa15">o commit do DHH aqui</a>. No <a href="http://edgeguides.rubyonrails.org/4_0_release_notes.html">Ruby on Rails guides do <em>edge</em></a>, já tem muita coisa documentada do que vem por aí.</p>

<p>Segue um resumão:</p>

<ul>
<li><p>Suporte somente a ruby 1.9.3 ou superior</p></li>
<li><p>Vendor/Plugins já era</p></li>
<li><p>Muita &ldquo;magia&rdquo; movida pra gems \o/ (Dynamic finders, Mass assignments, AR Session Store, ActiveResource … e muito mais)</p></li>
<li><p>Interface de Queue</p></li>
<li><p>Asynchronous Mailer</p></li>
<li><p>ActionController::Live</p></li>
<li><p>HTML5 tag helpers</p></li>
<li><p>Threadsafe on by default</p></li>
</ul>


<p>O <a href="https://twitter.com/spastorino">Santiago Pastorino</a>, um dos commiters do Rails está mantendo um <a href="http://blog.wyeworks.com/2012/11/13/rails-4-compilation-links/">ótimo post</a> sobre o desenvolvimento do Rails 4, que vale a pena acompanhar.</p>

<p>Sucesso!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/11/minionserver-a-real-server-to-mock-servers/">MinionServer - a Real Server to Mock Servers!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-28T13:49:06-02:00" pubdate data-updated="true">Nov 28<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2012/11/minionserver-a-real-server-to-mock-servers/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/11/minionserver-a-real-server-to-mock-servers/" data-text="MinionServer - a real server to mock servers!" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/11/minionserver-a-real-server-to-mock-servers/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/11/minionserver-a-real-server-to-mock-servers/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/11/minionserver-a-real-server-to-mock-servers/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p><a href="https://github.com/rogerleite/minion_server">MinionServer</a> is a ruby gem to help you with integration tests. You can create an app using Rack Builder and start a tiny server very easy. Let me show you some code:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;minion_server&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># build your integration app</span>
</span><span class='line'><span class="no">IntegrationApp</span> <span class="o">=</span> <span class="ss">Rack</span><span class="p">:</span><span class="ss">:Builder</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">map</span> <span class="s2">&quot;/&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">run</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="o">|</span><span class="n">env</span><span class="o">|</span>
</span><span class='line'>      <span class="o">[</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">},</span> <span class="o">[</span><span class="s2">&quot;Be happy!&quot;</span><span class="o">]]</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">server</span> <span class="o">=</span> <span class="no">MinionServer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">IntegrationApp</span><span class="p">)</span>
</span><span class='line'><span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">1620</span><span class="p">)</span>  <span class="c1"># default: localhost, 4000</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># do your calls</span>
</span><span class='line'><span class="nb">system</span> <span class="s2">&quot;curl http://localhost:1620&quot;</span> <span class="c1"># =&gt; &quot;Be happy!&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">server</span><span class="o">.</span><span class="n">shutdown</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can see more examples at <a href="https://github.com/rogerleite/http_monkey">http_monkey</a>&rsquo;s integration tests.
Hope that helps!</p>

<p><strong>pt-br moment</strong>: Está em inglês porque eu publiquei no <a href="https://coderwall.com/p/ibr4ig">coderwall</a> e depois tive a idéia brilhante de postar aqui, com a preguiça mais brilhante ainda de traduzir em pt-br.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/">[QuickTips] Migrando Sua App Rails Do MySQL Para PostgreSQL Sem Dor</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-29T08:00:07-03:00" pubdate data-updated="true">Aug 29<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rodrigopanachi/'>Rodrigo Panachi</a></span></span>


        
         | <a href="/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/" data-text="[QuickTips] Migrando sua app Rails do MySQL para PostgreSQL sem dor" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/08/quicktips-migrando-sua-app-rails-do-mysql-para-postgresql-sem-dor/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><h2>Motivação</h2>

<p>Meu primeiro contato com banco de dados relacionais foi o PostgreSQL, ou Postgres, nos tempos da faculdade. Achei muito complicado na época, difícil de instalar, administrar, etc. Quando comecei a programar profissionalmente, por volta de 2004, conheci o <a href="http://www.mysql.com/">MySQL</a> e gostei muito da sua simplicidade de configuração e ótima performance. Passou a ser o banco de dados padrão para a maioria dos projetos pessoais ou onde havia possibilidade de escolha.</p>

<p>Tudo andava bem, até que a <a href="http://info.abril.com.br/noticias/negocios/oracle-compra-sun-por-us-7-4-bilhoes-20042009-5.shl">Oracle comprou a Sun Microsystems em 2009</a>. Não é segredo que nunca fui fã da Oracle, e considerando os acontecimentos recentes com o <a href="http://br-linux.org/2011/oracle-descontinua-licenca-que-permitia-incluir-sua-java-vm-em-distribuicoes-linux/">Java</a> e o <a href="http://idgnow.uol.com.br/ti-corporativa/2011/04/19/oracle-desiste-do-openoffice/">OpenOffice</a>, não demoraria muito para o MySQL também receber seu <a href="http://blog.mariadb.org/disappearing-test-cases/">toque de Midas da escrotização</a>.</p>

<p>Dentre várias alternativas, optei pelo <a href="http://www.postgresql.org/">PostgreSQL</a> pela sua performance, muitas vezes comparável com o Oracle DB, suporte da comunidade, e por ser <a href="http://en.wikipedia.org/wiki/Open-source_software">Open Source</a>.</p>

<h2>Instalando o Postgres</h2>

<p>Se você estiver no Ubuntu, basta rodar:</p>

<pre><code>$ sudo apt-get install postgresql-9.1 libpq-dev
</code></pre>

<p>Finalizada a instalação, inicie o serviço e abra o client do Postgres:</p>

<pre><code>$ sudo service postgresql start
$ sudo -u postgres psql
</code></pre>

<p>Aproveite o terminal e mude a senha do usuário <em>postgres</em>:</p>

<pre><code># \password
</code></pre>

<p>Para sair, digite:</p>

<pre><code># \q
</code></pre>

<h2>Migrando o banco</h2>

<p>Estou usando a gem <a href="http://rubygems.org/gems/mysql2psql">mysql2psql</a>, que embora esteja deprecated, funciona muito bem e não tem dependência do stack do Rails, como o <em>activerecord</em>. Assim é possível rodar a migração fora do contexto da aplicação e descartar o MySQL quando terminar.</p>

<p>O funcionamento é simples: conecta no banco MySQL de origem e copia a estrutura e os dados para um banco Postgres destino configurado. Para instalar:</p>

<pre><code>$ sudo gem install mysql2psql
</code></pre>

<p>Em seguida, execute:</p>

<pre><code>$ mysql2psql
</code></pre>

<p>Isto criará o arquivo <em>mysql2psql.yml</em> com a estrutura de configuração necessária. Edite este arquivo para ficar assim:</p>

<pre><code>mysql:
 hostname: localhost
 port: 3306
 socket: /var/run/mysqld/mysqld.sock
 username: root
 password: root
 database: app_development
destination:
 postgres:
  hostname: localhost
  port: 5432
  username: postgres
  password: postgres
  database: app_development
</code></pre>

<p>Agora crie o banco de destino no Postgres:</p>

<pre><code>$ sudo psql -h localhost -U postgres -W
# CREATE DATABASE app_development;
</code></pre>

<p>Saia do client com <em>\q</em> e então rode novamente:</p>

<pre><code>$ mysql2psql
</code></pre>

<p>Se as configurações estiverem corretas, a estrutura do banco e os dados serão migrados. O output será parecido com:</p>

<pre><code>Creating table comments...
Created table comments
Creating table schema_migrations...
Created table schema_migrations
Creating table users...
Created table users

Counting rows of comments... 
Rows counted
Loading comments...
5 rows loaded in 0min 0s

Counting rows of schema_migrations... 
Rows counted
Loading schema_migrations...
20 rows loaded in 0min 0s

Counting rows of users... 
Rows counted
Loading users...
418 rows loaded in 0min 0s

Indexing table comments...
Indexed table comments
Indexing table schema_migrations...
Indexed table schema_migrations
Indexing table users...
Indexed table users

Table creation 0 min, loading 1 min, indexing 0 min, total 1 min
</code></pre>

<h2>Configurando a app</h2>

<p>Para finalizar, remova a gem do <em>mysql</em>, adicione a do Postgres no <em>Gemfile</em> e configure o <em>database.yml</em> com as informações do Postgres:</p>

<pre><code># Gemfile
gem 'pg'




# database.yml
development:
  adapter: postgresql
  host: localhost
  database: app_development
  username: postgres
  password: postgres
</code></pre>

<p>Basta rodar <em>bundle install</em> e iniciar sua aplicação usando PostgreSQL!</p>

<p>Se precisar ou preferir rodar uma migração no contexto da sua app, dê uma olhada na gem <a href="https://github.com/maxlapshin/mysql2postgres">mysql-to-postgres</a>, do mesmo autor.</p>

<p>Caso tenha alguma dúvida ou sugestão, deixe seu comentário.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/">[QuickTips] Nginx: Redirect De Domínio Com Www Para Domínio Sem Www E Vice-versa</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-05T10:00:45-03:00" pubdate data-updated="true">Jul 5<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rodrigopanachi/'>Rodrigo Panachi</a></span></span>


        
         | <a href="/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/" data-text="[QuickTips] Nginx: redirect de domínio com www para domínio sem www e vice-versa" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/07/quick-tips-nginx-redirect-de-dominio-com-www-para-dominio-sem-www-e-vice-versa/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>Simples, basta usar o <a href="http://wiki.nginx.org/HttpRewriteModule">HttpRewriteModule</a>.</p>

<p>Para redirecionar de <em>www.dominio.com</em> para <em>dominio.com</em> faça:</p>

<pre><code>server {
    server_name  www.dominio.com;
    rewrite ^(.*) http://dominio.com$1 permanent;
}

server {
    server_name  dominio.com;
    #configurações do servidor aqui
}
</code></pre>

<p>E para redirecionar de <em>domínio.com</em> para <em>www.dominio.com</em>, faça:</p>

<pre><code>server {
    server_name  dominio.com;
    rewrite ^(.*) http://www.dominio.com$1 permanent;
}

server {
    server_name  www.dominio.com;
    #configurações do servidor aqui
}
</code></pre>

<p><em>Voilà!</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/06/concepcao-do-rologames/">Concepção Do RoloGames</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-25T07:05:09-03:00" pubdate data-updated="true">Jun 25<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2012/06/concepcao-do-rologames/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/06/concepcao-do-rologames/" data-text="Concepção do RoloGames" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/06/concepcao-do-rologames/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/06/concepcao-do-rologames/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/06/concepcao-do-rologames/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>Este post é um tópico da <a href="http://1up4dev.org/2012/06/a-experiencia-de-lancar-o-rologames/">Experiência de lançar o RoloGames</a>.</p>

<h2>Quando surgiu a idéia</h2>

<p>Como jogador, nunca achei um serviço legal pra trocar jogos usados. Haviam poucas opções e normalmente as trocas eram feitas via fórum (UOL Jogos, por exemplo). Na época minha filha tinha acabado de nascer, eu estava num emprego novo e acabei congelando a idéia. Recentemente surgiram alguns sites de trocas, tentei usar mas não gostei, pois eram muito &ldquo;abertos&rdquo; e mais aborrecia do que gerava oportunidade real. Sofrendo com isso que o Panachi e eu bolamos o <a href="http://rologames.com.br">RoloGames</a>, onde a troca deve ser sempre 1 por 1 e o site só te avisa se o <em>match </em>for exato.</p>

<h2>Definindo um mantra</h2>

<p><a href="http://www.youtube.com/watch?v=VKhEg79xLio"><img src="/images/uploads/2012/06/kawasaki-sm.jpg" alt="A Arte do Começo - The Art of Start" /></a></p>

<p>Totalmente baseado nas dicas do Sr. Kawasaki em <a href="http://www.youtube.com/watch?v=VKhEg79xLio">A Arte do Começo</a>, definimos uma filosofia para o site. Lembrando que se mantivermos esta filosofia sempre em mente, o site não perderá seu foco:</p>

<ul>
<li><p><strong>Oportunidades confiáveis</strong>. Queremos que o usuário encontre somente as oportunidades de troca que <strong>façam sentido</strong> a ele, e não receba spams que infortunam a vida ou propostas <em>sem noção</em> (por exemplo, oferecerem um jogo antigo em troca de um lançamento).</p></li>
<li><p><strong>Toda troca deve ser justa</strong>. Infelizmente, é uma prática considerada normal a troca de 3 jogos por 1, onde pessoas ganham dinheiro em cima de jogadores. As propostas e trocas são sempre de um jogo por outro, de acordo com os desejos e ofertas dos usuários.</p></li>
<li><p><strong>Fácil de usar</strong>. O site não deve atrapalhar a vida do usuário com mensagens que ele não queira receber ou oportunidades que não façam sentido. É claro que a velocidade de navegação do site conta neste quesito.</p></li>
<li><p><strong>Social</strong>. Os usuários podem acompanhar a atividade de seus amigos, enviar mensagens diretas e ter a escolha de trocar os jogos somente com quem quiser.</p></li>
</ul>


<h2>Provas de Conceitos</h2>

<p>Antes de encostar no código, o Panachi e eu definimos o objetivo do site e algumas premissas para começar o projeto, e a mais importante era: ter um banco de dados de jogos. Definimos somente as informações necessárias de um jogo, e partimos para uma prova de conceito. Em dois dias conseguimos montar um banco de dados bem completo, e a nossa solução foi simplesmente um <a href="http://1up4dev.org/2011/01/criando-um-webcrawler-de-modo-facil-e-rapido-com-ruby-e-nokogiri/">crawler</a> de jogos! Por sinal, foi tão produtivo que nossa outra prova de conceito originou o <a href="https://github.com/rogerleite/psn_trophies">psn_trophies</a>.</p>

<h2>Interface no papel</h2>

<p>Em paralelo às provas de conceito, começamos a rascunhar as telas do site. O processo foi bem simples, uma pilha de sulfite e lápis (na falta de uma caneta <a href="http://37signals.com/svn/posts/466-sketching-with-a-sharpie">Sharpie</a>). A partir dos esboços, começamos a definir quais funcionalidades o site teria. Em seguidas priorizamos as mais importantes e fechamos o escopo da primeira versão. Durante o desenvolvimento, muita coisa mudou no layout, mas os &ldquo;rabiscos&rdquo; da concepção foram a essência de tudo.</p>

<h2>Início do desenvolvimento</h2>

<p>Já tinhamos uma prova de conceito, uns rascunhos das páginas e uma lista de funcionalidades. E todo processo levou cerca de uma semana.</p>

<p>Sem perder mais tempo, partimos para o código! E foi então que começamos a tropeçar nos detalhes&hellip; mas este será um assunto para o próximo post. Até lá!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/06/a-experiencia-de-lancar-o-rologames/">A Experiência De Lançar O RoloGames</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-20T08:37:53-03:00" pubdate data-updated="true">Jun 20<span>th</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2012/06/a-experiencia-de-lancar-o-rologames/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/06/a-experiencia-de-lancar-o-rologames/" data-text="A experiência de lançar o RoloGames" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/06/a-experiencia-de-lancar-o-rologames/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/06/a-experiencia-de-lancar-o-rologames/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/06/a-experiencia-de-lancar-o-rologames/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p>Nesta segunda-feira lançamos o <a href="http://rologames.com.br/">RoloGames</a>.</p>

<p><a href="http://rologames.com.br"><img src="/images/uploads/2012/06/logo1.jpg" alt="Rolo Games - Rede Social de Troca de Jogos" /></a></p>

<p>Trata-se de um site social para trocar jogos de videogames, no caso, PlayStation 3.</p>

<p>O Panachi e eu ralamos muito durante 2 meses, projetando e programando todas as funcionalidades. Não foi fácil, mas é gratificante ver o site no ar.</p>

<p>Antes de contar esta experiência, queria falar um pouco do passado e dos projetos onde já falhamos (e aprendemos!), por ordem de lançamento:</p>

<ol>
<li><p> <a href="http://business-bingo.heroku.com/">Business Bingo Generator</a>. Primeiro site que lançamos, foi feito em dois dias e só de zueira. O legal é que na época tinha uns dez termos cadastrados &hellip; :D</p></li>
<li><p> MeAciona (fora do ar). Foi há mais de 3 anos atrás. Na época, foi o nosso primeiro projeto feito em Rails. Foi muito legal criar o site e ao mesmo tempo aprender Ruby/Rails. O site tinha integração com a Bovespa, cadastro de usuários e possibilitava definir &ldquo;regras&rdquo; para receber avisos sobre determinado momento de um papel. Era voltado à pequenos investidores, como uma ferramenta para auxiliar a monitorar as ações. Porém logo percebemos que este nicho/mercado era muito restrito e que existiam várias outras ferramentas gratuitas para esta finalidade. Desistimos da idéia, porém o que aprendemos durante seu desenvolvimento não foi perdido!</p></li>
<li><p> <a href="https://mooney.1up4dev.com/">Mooney</a>. Controle financeiro pessoal simples, rápido e seguro. Este foi o Panachi que fez, ficou bem legal e ele usa até hoje.</p></li>
<li><p> Sitefique.me (fora de funcionamento, porém mantemos no ar, como portifólio, em <a href="http://sitefiqueme.1up4dev.com">http://sitefiqueme.1up4dev.com</a>). Foi no ano passado (2011). Já tinhamos mais experiência técnica e conseguimos em 3 meses, lançar um serviço mega legal que permitia que qualquer pessoa pudesse criar um site com layout customizado e o publicasse na internet com domínio próprio ou utilizando o subdomínio xxx.sitefique.me. Esperávamos atingir um mercado de pequenas empresas que precisassem manter um site completo e atualizado com um pequeno investimento mensal. É claro que não foi pra frente, pois não planejamos a parte não técnica e vendável (marketing, divulgação, etc) do serviço. A concorrência, principalmente serviços gratuitos, também ajudou a engavetarmos a idéia.</p></li>
</ol>


<p>Mas como diz o ditado &ldquo;até mesmo um pé na bunda te empurra pra frente&rdquo; , continuamos perseverando! É um trabalho cansativo, mas o segredo é não desistir jamais! Isto até me lembra do <a href="http://1up4dev.org/2008/10/rails-summit-eu-fui">Rails Summit</a> (em 2008!), quando o Chris Wanstrath contou que antes de criar o Github, ele já tinha lançado mais de 17 sites! Segundo o meu cálculo, contando com o Rolo Games, ainda temos mais 12 chances! :D</p>

<p>E pensando nisso, resolvi compartilhar a experiência de como foi planejar, desenvolver e colocar no ar o RoloGames. Eu não consigo escrever posts gigantes (tipo do Akita), então resolvi dividir a experiência em três partes (vou atualizando os links conforme forem publicados):</p>

<ul>
<li><p><a href="http://1up4dev.org/2012/06/concepcao-do-rologames/">Concepção</a></p></li>
<li><p>Desenvolvimento</p></li>
<li><p>Infraestrutura</p></li>
</ul>


<p>Espero que o post te ajude de alguma maneira e te motive também, afinal até hoje o &ldquo;polêmico&rdquo; <a href="http://1up4dev.org/2011/02/pare-de-chorar-e-mexa-se/">Pare de chorar e mexa-se</a> é um dos posts mais lidos do blog!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/">Vagrant, Virtualizando O Ambiente De Trabalho</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-01T10:14:30-03:00" pubdate data-updated="true">Jun 1<span>st</span>, 2012</time>
        | 
  


  <span class="byline author vcard">Posted by <span class="fn"><a class='author' href='/author/rogerbarreto/'>Roger Leite</a></span></span>


        
         | <a href="/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/#disqus_thread">Comments</a>
        
      </p>
    
    
      <br/>
      
  
  


<div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://1up4dev.org/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/" data-text="Vagrant, virtualizando o ambiente de trabalho" data-via="1up4dev" data-counturl="http://1up4dev.org/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium" data-href="http://1up4dev.org/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false" data-url="http://1up4dev.org/2012/06/vagrant-virtualizando-o-ambiente-de-trabalho/"></div>
  
</div>

    
  </header>


  <div class="entry-content"><p><a href="http://vagrantup.com/">Vagrant</a>, se você não conhece ou não deu atenção para ele nestes últimos tempos, este post é pra ti mesmo. Trata-se de uma ferramenta que facilita (e muito!) a criação de Máquinas Virtuais usando o Virtual Box por baixo dos panos. E não é só isso! Com o Vagrant fazer <em>port forward</em>, compartilhar pastas é só questão de alterar um arquivo de configuração. Continue lendo que eu detalho melhor tudo isto.</p>

<h2>Prós e Contra<del>s</del></h2>

<p>Vários pontos se destacam no uso do Vagrant:</p>

<ul>
<li><p>Centraliza as <em>dependências de ambiente</em> do projeto. Sabe aquele projeto legado que só roda com rubygems 1.4.2 e mongo 1.1, com o Sol alinhado aos anéis de Saturno, então, você pode deixar tudo isso num <em>box</em> do Vagrant.</p></li>
<li><p>Documenta as <em>dependências de ambiente</em>, caso use algum <em>Provisioner</em>.</p></li>
<li><p>Facilita a integração de novos desenvolvedores na equipe, independente do SO que utiliza.</p></li>
<li><p>Mantém a sua máquina local &ldquo;limpa&rdquo;. Você não precisa instalar o Mysql, Postgree, Redis, Memcache etc. para cada projeto que roda.</p></li>
</ul>


<p>Agora vem o contra.</p>

<ul>
<li>Se você trabalha com projetos simples ou até mesmo com poucos projetos, você pode sentir que está usando um canhão para matar mosca.</li>
</ul>


<h2>Instalação</h2>

<p>Você precisa do <a href="https://www.virtualbox.org/">VirtualBox</a> (versões 4.0.x ou 4.1.x). Já o Vagrant, o jeito mais fácil é instalar via rubygems, ou seja, um &ldquo;gem install vagrant&rdquo; e pronto! Caso ache melhor instalar via .dmg, .deb etc., você pode baixar em <a href="http://downloads.vagrantup.com">http://downloads.vagrantup.com</a>.</p>

<h2>Exemplo de Uso</h2>

<p>O <a href="http://vagrantup.com/v1/docs/getting-started/index.html">Getting Started</a> do Vagrant é bem completo e tem também o <a href="http://railscasts.com/episodes/292-virtual-machines-with-vagrant">Rails Cast</a>, mas segue um resumão.</p>

<p>Supondo que o vagrant está instalado. Vamos adicionar uma máquina:</p>

<pre><code>$ vagrant box add lucid32 http://files.vagrantup.com/lucid32.box
</code></pre>

<p>Dentro da pasta do projeto, você tem criar o Vagrantfile e para isso execute:</p>

<pre><code>$ vagrant init lucid32  #ja especificando o box lucid32 baixado
</code></pre>

<p>Vamos subir a VM:</p>

<pre><code>$ vagrant up
</code></pre>

<p>Para acessar a VM:</p>

<pre><code>$ vagrant ssh
</code></pre>

<p>Repare que dentro da VM, na pasta &ldquo;/vagrant&rdquo; estará montado o diretório do seu projeto, onde está o Vagrantfile. Supondo que seja um projeto Rails, daí em diante você segue todo o fluxo <em>default</em>, instalando o <em>bundler</em>, dando um <em>bundle install</em> e etc.</p>

<p>Vamos supor que você executou um &ldquo;rails s&rdquo; na VM e o projeto subiu na porta 3000. Para acessá-lo, você tem que configurar o forward_port no VagrantFile:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">forward_port</span> <span class="mi">3000</span><span class="p">,</span> <span class="mi">4000</span>  <span class="c1"># 3000 from VM, available at 4000</span>
</span></code></pre></td></tr></table></div></figure>


<p>Dá um restart na VM:</p>

<pre><code>$ vagrant halt &amp;&amp; vagrant up
</code></pre>

<p>Subir o projeto novamente. (vagrant ssh e o &ldquo;rails s&rdquo; dentro do /vagrant)</p>

<p>Acesse <a href="http://localhost:4000.">http://localhost:4000.</a></p>

<h2>Extras e Conclusão</h2>

<p>A idéia deste post é explicar rapidamente o que é e como usar o Vagrant, mas com certeza o Vagrant tem muito mais a oferecer. Segue alguns tópicos, que valem posts:</p>

<p><a href="http://vagrantup.com/v1/docs/provisioners.html">Provisioning</a> &ndash; Existem várias ferramentas que podem te ajudar no <em>setup</em> da sua VM. O Vagrant tem suport a Chef, Puppet e até mesmo Shell script.</p>

<p><a href="http://vagrantup.com/v1/docs/plugins.html">Plugins</a> &ndash; Você pode mudar ou adicionar funcionalidades ao Vagrant, criando plugins. É claro que sempre vale a pena googlar antes. Por exemplo o <a href="https://github.com/t9md/vagrant-snap">vagrant-snap</a>, que ajuda a tirar e gerenciar snapshots da VM.</p>

<p><a href="http://vagrantup.com/v1/docs/boxes.html">Boxes</a> &ndash; No exemplo acima, usamos um box de Ubuntu, mas nada impede de você criar ou utilizar outros boxes. Existe o <a href="http://vagrantbox.es/">vagrantbox.es</a> que pode te ajudar a baixar uma existente, ou você vai ter que se aventurar pelos docs para criar uma zerada.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>ln -s /feed</h1>
  <br />
  <a href="http://feeds.feedburner.com/1up4developers"><img src="http://feeds.feedburner.com/~fc/1up4developers?bg=000000&amp;fg=FFFFFF&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a>
</section>
<section>
  <h1>head -5 /posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2016/07/encerramento-do-blog/">Encerramento do blog</a>
      </li>
    
      <li class="post">
        <a href="/2015/02/type-hints-no-clojure-parte-2/">Type hints no Clojure - Parte 2</a>
      </li>
    
      <li class="post">
        <a href="/2015/01/type-hints-no-clojure-parte-1/">Type hints no Clojure - Parte 1</a>
      </li>
    
      <li class="post">
        <a href="/2014/11/lendo-arquivo-csv-com-parcimonia-no-ruby/">Lendo arquivo CSV com parcimônia no Ruby</a>
      </li>
    
      <li class="post">
        <a href="/2014/10/extraindo_dados_da_internet_com_clojure/">Extraindo dados da Internet com Clojure</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>ls /authors</h1>
  <ul id="authors">
    
      
    
      
        <li class="author">
          <a href="/author/rodrigopanachi">Rodrigo Panachi</a> (37)
        </li>
      
    
      
        <li class="author">
          <a href="/author/rogerbarreto">Roger Leite</a> (34)
        </li>
      
    
      
        <li class="author">
          <a href="/author/pbalduino">Plínio Balduino</a> (19)
        </li>
      
    
      
        <li class="author">
          <a href="/author/miguelhorlle">Miguel Horlle</a> (4)
        </li>
      
    
      
        <li class="author">
          <a href="/author/andrefarina">André Farina</a> (1)
        </li>
      
    
      
        <li class="author">
          <a href="/author/hbulhoes">Humberto Bulhões</a> (8)
        </li>
      
    
      
        <li class="author">
          <a href="/author/rramos">Rogério Ramos</a> (1)
        </li>
      
    
      
        <li class="author">
          <a href="/author/tonyfabeen">Tony Fabeen</a> (2)
        </li>
      
    
  </ul>
</section>
<section>
  <h1>ls /categories</h1>
  <p class="category-list">
    
      <a class='category' href='/categories/hello/'>hello</a>&nbsp;
    
      <a class='category' href='/categories/cascata/'>cascata</a>&nbsp;
    
      <a class='category' href='/categories/processos/'>processos</a>&nbsp;
    
      <a class='category' href='/categories/waterfall/'>waterfall</a>&nbsp;
    
      <a class='category' href='/categories/questionamento/'>questionamento</a>&nbsp;
    
      <a class='category' href='/categories/real-world/'>real world</a>&nbsp;
    
      <a class='category' href='/categories/resenhas/'>resenhas</a>&nbsp;
    
      <a class='category' href='/categories/web/'>web</a>&nbsp;
    
      <a class='category' href='/categories/marketing/'>marketing</a>&nbsp;
    
      <a class='category' href='/categories/tutorial/'>tutorial</a>&nbsp;
    
      <a class='category' href='/categories/evento/'>evento</a>&nbsp;
    
      <a class='category' href='/categories/eventos/'>eventos</a>&nbsp;
    
      <a class='category' href='/categories/quick-tips/'>quick tips</a>&nbsp;
    
      <a class='category' href='/categories/projetos/'>projetos</a>&nbsp;
    
      <a class='category' href='/categories/novidades-da-semana/'>novidades da semana</a>&nbsp;
    
      <a class='category' href='/categories/rails/'>rails</a>&nbsp;
    
      <a class='category' href='/categories/ruby/'>ruby</a>&nbsp;
    
      <a class='category' href='/categories/sitefique-dot-me/'>sitefique.me</a>&nbsp;
    
      <a class='category' href='/categories/lisp/'>lisp</a>&nbsp;
    
      <a class='category' href='/categories/linux/'>linux</a>&nbsp;
    
      <a class='category' href='/categories/off-topic/'>off-topic</a>&nbsp;
    
      <a class='category' href='/categories/clojure/'>clojure</a>&nbsp;
    
      <a class='category' href='/categories/comunidade/'>comunidade</a>&nbsp;
    
      <a class='category' href='/categories/javascript/'>javascript</a>&nbsp;
    
      <a class='category' href='/categories/agile/'>agile</a>&nbsp;
    
      <a class='category' href='/categories/continuous-delivery/'>continuous delivery</a>&nbsp;
    
      <a class='category' href='/categories/continuous-integration/'>continuous integration</a>&nbsp;
    
      <a class='category' href='/categories/cookbook/'>cookbook</a>&nbsp;
    
      <a class='category' href='/categories/csv/'>csv</a>&nbsp;
    
      <a class='category' href='/categories/goodbye/'>goodbye</a>&nbsp;
    
  </p>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - 1up4developers -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = '1up4dev';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
